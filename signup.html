<!DOCTYPE html>
<html>
<head>
    <script type="text/javascript" src="/CMPUT391F/Sources/js/jquery-1.9.1.min.js" defer></script>
    <script type="text/javascript" src="/CMPUT391F/Sources/js/jquery.cookie.min.js" defer></script>
    <script type="text/javascript" src="/CMPUT391F/Sources/js/buildHeader.js" defer></script>
    <link rel="stylesheet" type="text/css" href="/CMPUT391F/Sources/css/main.css">
    <title>LUX Signup</title>
    <style type="text/css"></style>
</head>
<script>
function validateForm() {
    var u = document.forms["SignupForm"]["USERNAME"].value;
    var p = document.forms["SignupForm"]["PASSWD"].value;
    var f = document.forms["SignupForm"]["FIRSTNAME"].value;
    var l = document.forms["SignupForm"]["LASTNAME"].value;
    var e = document.forms["SignupForm"]["email"].value;
    if (u==null || u=="") {
        alert("Username must be filled out");
        return false;
    }
    
    else if (p==null || p=="") {
        alert("Password must be filled out");
        return false;
    }
    else if (f==null || f=="") {
        alert("First name must be filled out");
        return false;
    }
    else if (l==null || l=="") {
        alert("Last name must be filled out");
        return false;
    }
    
    else if (e==null || e=="") {
        alert("Email must be filled out");
        return false;
    }
}

function getUrlVars()
{
	var vars = [], hash;
	var hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&');
	for(var i = 0; i < hashes.length; i++)
	{
		hash = hashes[i].split('=');
		vars.push(hash[0]);
		vars[hash[0]] = hash[1];
	}
	return vars;
}

function displayError()
{
	var msg=getUrlVars()['error'];
	if (msg==="duplicate_username"){
		alert("Username already exists!");
	}
	else if (msg==="duplicate_email"){
		alert("Email already exists!");
	}

}

</script>
<body onload = "displayError()">
    <br>
    <br>
    <div class="section hcenter">
        <h1><center>Signup</center></h1>

        <form name="SignupForm" action="/CMPUT391F/Sources/jsp/signup.jsp" method="post" onsubmit="return validateForm()">

        <p>Please, fill out the form below to get your free account</p>
        <table>
        <tbody><tr>
        <td>Username:</td>
        <td><input type="text" name="USERNAME" maxlength="24" required pattern="[a-zA-Z0-9]+"></td>
        </tr>
        <tr>
        <td>Password:</td>
        <td><input type="password" name="PASSWD" maxlength="24" required pattern="[a-zA-Z0-9]+"></td>
        </tr>
        <tbody><tr>
        <td>First name:</td>
        <td><input type="text" name="FIRSTNAME" maxlength="24" required pattern="[a-zA-Z0-9]+"></td>
        </tr>
        <tbody><tr>
        <td>Last name:</td>
        <td><input type="text" name="LASTNAME" maxlength="24" required pattern="[a-zA-Z0-9]+"></td>
        </tr>
        <tbody><tr>
        <td>Address:</td>
        <td><input type="text" name="address" maxlength="128" required pattern="[a-zA-Z0-9]+"></td>
        </tr>
        <tbody><tr>
        <td>Email:</td>
        <td><input type="text" name="email" maxlength="128" required pattern="[a-zA-Z0-9]+"></td>
        </tr>
        <tbody><tr>
        <td>Phone:</td>
        <td><input type="text" name="phone" maxlength="10" required pattern="[a-zA-Z0-9]+"></td>
        </tr>

        </tbody></table>

        <input type="submit" name="signupSubmit" value="Register">
        </form>
    </div>
</body></html>
